<!DOCTYPE html>
<html lang="en" ng-app="demo" ng-controller="ctrl">
  <head>
    <meta charset="UTF-8">
    <title>Waitstaff Calculator</title>
  </head>
  <style>
body { font-family: 'Arial', sans-serif; }
.container { width: 100%; margin: 0 auto; }
.reset { position: absolute; top: 580px; right: 20px;}
.content_column { width: 49.5%;}
h1 { text-align: center; }
table { padding: 30px; }
.input_container { padding: 0px; margin-bottom: 242px; text-align: right;}
input {margin-left: 10px; margin-bottom: 20px;}
.form_buttons { margin: 0 auto; position: absolute; top: 500px; left: 22%; z-index: 9999;}
#earnings_heading {border-top: 1px solid black;}
#results, #data { display: inline-block; outline: 1px solid black; vertical-align: top; }
.headings { text-align: left; border-bottom: 1px solid black; padding-left: 10px; padding-bottom: 15px; padding-top: 15px; font-weight: bold; font-size: 20px; }
tr { height: 40px; }
footer { margin: 0 auto; position: absolute; bottom: 10px; left: 45%;}
footer p { text-align: center; }

  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script>
    var demo = angular.module('demo', []);
      demo.controller('ctrl', function($scope){
        $scope.subtotal = 0;
        $scope.tax = 0;
        $scope.meal_count = 0;
        $scope.cost_total = 0;
        $scope.tip_current = 0;
        $scope.tip_meal_avg = 0;
        $scope.tip_total = 0;

        $scope.submit = function(){
          $scope.tax = $scope.base_price * ( $scope.tax_rate / 100);
          $scope.subtotal = $scope.base_price + $scope.tax;
          $scope.tip_current = $scope.base_price * ( $scope.tip_percent / 100 );
          $scope.tip_total = $scope.tip_current

          $scope.meal_count = $scope.meal_count + 1;
          $scope.cost_total = $scope.tip_current + $scope.subtotal;
          $scope.tip_meal_avg = $scope.tip_total / $scope.meal_count;
        }

        $scope.cancel = function(){
          $scope.tax = 0;
          $scope.subtotal = 0;
          $scope.tip_current = 0;
          $scope.tip_total = 0;
          $scope.cost_total = 0;
        }

        $scope.reset = function(){
          $scope.tax = 0;
          $scope.subtotal = 0;
          $scope.tip_current = 0;
          $scope.tip_total = 0;
          $scope.cost_total = 0;
          $scope.tip_meal_avg = 0;
          $scope.base_price = 0;
          $scope.meal_count = 0;
          $scope.tax_rate = 0;
          $scope.tip_percent = 0;
        }
        
      });
  </script>
  <body>
    <header>
      <h1>Waitstaff Calculator</h1>
    </header>
    <section class="container">
      <div class="content_column" id="data">
        <div class="content">
          <form name="waitCalc">
            <div class="headings">Enter the Meal Details</div>
            <table id="meal_details">
              <tr>
                <td>
                  <div class="input_container">
                    <label for="base_price">Base Meal Price: $ </label><input type="number" ng-model="base_price" required><br />
                    <label for="tax_rate">Tax Rate: % </label><input type="number" ng-model="tax_rate" required><br />
                    <label for="tip_percent">Tip Percentage: % </label><input type="number" ng-model="tip_percent" required><br />
                  </div>
                </td>
              </tr>
            </table>
              <div class="form_buttons">
                <button type="submit" ng-click="submit()">Submit</button>
                <button type="reset" ng-click="cancel()">Cancel</button>
              </div>
          </form>
        </div>
      </div> <!-- end of data -->
      <div class="content_column" id="results">

        <div id="customer_charges" class="content">
          <div class="headings">Customer Changes</div>
          <table id="meal_details">
            <tr>
              <td>
                Subtotal: {{ subtotal | currency }}    
              </td>
            </tr>
            <tr>
              <td>
                Tip: {{ tip_current | currency }}  
              </td>
            </tr>
            <tr>
              <td>
                Total: {{ cost_total | currency }}  
              </td>
            </tr>
          </table>
        </div> <!-- end of customer charges -->


        <div id="my_earnings" class="content">
          <div class="headings" id="earnings_heading">My Earnings Info</div>
          <table id="meal_details">
            <tr>
              <td>
                Tip Total: {{ tip_total | currency }}    
              </td>
            </tr>
            <tr>
              <td>
                Meal Count: {{ meal_count }}    
              </td>
            </tr>
            <tr>
              <td>
                Average Tip Per Meal: {{ tip_meal_avg | currency }}    
              </td>
            </tr>
          </table>
        </div> <!-- end of my earnings -->
        <button class="reset" ng-click="reset()">Reset</button>
      </div> <!-- end of results -->

    </section> <!-- end of container -->
    <footer>
      <p>&copy; 2016 ME Innovation</p>
    </footer>
  </body>
</html>